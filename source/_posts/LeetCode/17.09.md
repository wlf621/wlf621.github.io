---
title: '17.19'
date: 2022-09-26 22:30:22
categories:
- leetcode
mathjax: true
tag:
- 位运算
---

给定一个数组，包含从 1 到 N 所有的整数，但其中缺了两个数字。你能在 O(N) 时间内只用 O(1) 的空间找到它们吗？

以任意顺序返回这两个数字均可。

### 示例 1:
```c++
输入: [1]
输出: [2,3]
```
### 示例 2:
```c++
输入: [2,3]
输出: [1,4]
```
> 提示：nums.length <= 30000

<details><summary>查看代码</summary><pre><code>
class Solution {
public:
    vector<int> missingTwo(vector<int>& nums) {
        // nums 加上 1 - nums.size() + 2 全部异或，x为num1与num2的异或值
        int x = 0;
        for (int i = 0; i < nums.size(); i++) {
            x ^= nums[i];
        }
        for (int i = 1; i <= nums.size() + 2; i++) {
            x ^= i;
        }
        x = x & -x;
        // 异或值第l位为1，说明num1与num2的第l位不同（0与1）
        int l = 1;
        while (!(x & l)) {
            l = l << 1;
        }

        // 按照x比特位是否为1分为两类，出现过两次相同为一类，num1与num2分别在两类，全部异或求出num1、num2
        int num1 = 0, num2 = 0;
        for (int i = 0; i < nums.size(); i++) {
            if (nums[i] & l)
                num1 ^= nums[i];
            else
                num2 ^= nums[i];
        }
        for (int i = 1; i <= nums.size() + 2; i++) {
            if (i & l)
                num1 ^= i;
            else
                num2 ^= i;
        }
    
        return { num1, num2 };
    }
};
</code></pre></details>

来源：力扣（LeetCode）
链接：https://leetcode.cn/problems/missing-two-lcci